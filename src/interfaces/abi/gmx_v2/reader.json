[
  {
    "inputs": [
      {
        "internalType": "contract DataStore",
        "name": "dataStore",
        "type": "address"
      },
      {
        "internalType": "address",
        "name": "account",
        "type": "address"
      },
      {
        "internalType": "uint256",
        "name": "start",
        "type": "uint256"
      },
      {
        "internalType": "uint256",
        "name": "end",
        "type": "uint256"
      }
    ],
    "name": "getAccountPositions",
    "outputs": [
      {
        "components": [
          {
            "components": [
              {
                "internalType": "address",
                "name": "account",
                "type": "address"
              },
              {
                "internalType": "address",
                "name": "market",
                "type": "address"
              },
              {
                "internalType": "address",
                "name": "collateralToken",
                "type": "address"
              }
            ],
            "internalType": "struct Position.Addresses",
            "name": "addresses",
            "type": "tuple"
          },
          {
            "components": [
              {
                "internalType": "uint256",
                "name": "sizeInUsd",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "sizeInTokens",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "collateralAmount",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "borrowingFactor",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "fundingFeeAmountPerSize",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "longTokenClaimableFundingAmountPerSize",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "shortTokenClaimableFundingAmountPerSize",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "increasedAtBlock",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "decreasedAtBlock",
                "type": "uint256"
              }
            ],
            "internalType": "struct Position.Numbers",
            "name": "numbers",
            "type": "tuple"
          },
          {
            "components": [
              {
                "internalType": "bool",
                "name": "isLong",
                "type": "bool"
              }
            ],
            "internalType": "struct Position.Flags",
            "name": "flags",
            "type": "tuple"
          }
        ],
        "internalType": "struct position.Props[]",
        "name": "",
        "type": "tuple[]"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "contract DataStore",
        "name": "dataStore",
        "type": "address"
      },
      {
        "internalType": "contract IReferralStorage",
        "name": "referralStorage",
        "type": "address"
      },
      {
        "internalType": "bytes32",
        "name": "positionKey",
        "type": "bytes32"
      },
      {
        "components": [
          {
            "components": [
              {
                "internalType": "uint256",
                "name": "min",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "max",
                "type": "uint256"
              }
            ],
            "internalType": "struct Price.Props",
            "name": "indexTokenPrice",
            "type": "tuple"
          },
          {
            "components": [
              {
                "internalType": "uint256",
                "name": "min",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "max",
                "type": "uint256"
              }
            ],
            "internalType": "struct Price.Props",
            "name": "longTokenPrice",
            "type": "tuple"
          },
          {
            "components": [
              {
                "internalType": "uint256",
                "name": "min",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "max",
                "type": "uint256"
              }
            ],
            "internalType": "struct Price.Props",
            "name": "shortTokenPrice",
            "type": "tuple"
          }
        ],
        "internalType": "struct MarketUtils.MarketPrices",
        "name": "prices",
        "type": "tuple"
      },
      {
        "internalType": "uint256",
        "name": "sizeDeltaUsd",
        "type": "uint256"
      },
      {
        "internalType": "address",
        "name": "uiFeeReceiver",
        "type": "address"
      },
      {
        "internalType": "bool",
        "name": "usePositionSizeAsSizeDeltaUsd",
        "type": "bool"
      }
    ],
    "name": "getPositionInfo",
    "outputs": [
      {
        "components": [
          {
            "components": [
              {
                "components": [
                  {
                    "internalType": "address",
                    "name": "account",
                    "type": "address"
                  },
                  {
                    "internalType": "address",
                    "name": "market",
                    "type": "address"
                  },
                  {
                    "internalType": "address",
                    "name": "collateralToken",
                    "type": "address"
                  }
                ],
                "internalType": "struct Position.Addresses",
                "name": "addresses",
                "type": "tuple"
              },
              {
                "components": [
                  {
                    "internalType": "uint256",
                    "name": "sizeInUsd",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "sizeInTokens",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "collateralAmount",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "borrowingFactor",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "fundingFeeAmountPerSize",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "longTokenClaimableFundingAmountPerSize",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "shortTokenClaimableFundingAmountPerSize",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "increasedAtBlock",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "decreasedAtBlock",
                    "type": "uint256"
                  }
                ],
                "internalType": "struct Position.Numbers",
                "name": "numbers",
                "type": "tuple"
              },
              {
                "components": [
                  {
                    "internalType": "bool",
                    "name": "isLong",
                    "type": "bool"
                  }
                ],
                "internalType": "struct Position.Flags",
                "name": "flags",
                "type": "tuple"
              }
            ],
            "internalType": "struct Position.Props",
            "name": "position",
            "type": "tuple"
          },
          {
            "components": [
              {
                "components": [
                  {
                    "internalType": "bytes32",
                    "name": "referralCode",
                    "type": "bytes32"
                  },
                  {
                    "internalType": "address",
                    "name": "affiliate",
                    "type": "address"
                  },
                  {
                    "internalType": "address",
                    "name": "trader",
                    "type": "address"
                  },
                  {
                    "internalType": "uint256",
                    "name": "totalRebateFactor",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "traderDiscountFactor",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "totalRebateAmount",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "traderDiscountAmount",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "affiliateRewardAmount",
                    "type": "uint256"
                  }
                ],
                "internalType": "struct PositionPricingUtils.PositionReferralFees",
                "name": "referral",
                "type": "tuple"
              },
              {
                "components": [
                  {
                    "internalType": "uint256",
                    "name": "fundingFeeAmount",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "claimableLongTokenAmount",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "claimableShortTokenAmount",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "latestFundingFeeAmountPerSize",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "latestLongTokenClaimableFundingAmountPerSize",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "latestShortTokenClaimableFundingAmountPerSize",
                    "type": "uint256"
                  }
                ],
                "internalType": "struct PositionPricingUtils.PositionFundingFees",
                "name": "funding",
                "type": "tuple"
              },
              {
                "components": [
                  {
                    "internalType": "uint256",
                    "name": "borrowingFeeUsd",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "borrowingFeeAmount",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "borrowingFeeReceiverFactor",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "borrowingFeeAmountForFeeReceiver",
                    "type": "uint256"
                  }
                ],
                "internalType": "struct PositionPricingUtils.PositionBorrowingFees",
                "name": "borrowing",
                "type": "tuple"
              },
              {
                "components": [
                  {
                    "internalType": "address",
                    "name": "uiFeeReceiver",
                    "type": "address"
                  },
                  {
                    "internalType": "uint256",
                    "name": "uiFeeReceiverFactor",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "uiFeeAmount",
                    "type": "uint256"
                  }
                ],
                "internalType": "struct PositionPricingUtils.PositionUiFees",
                "name": "ui",
                "type": "tuple"
              },
              {
                "components": [
                  {
                    "internalType": "uint256",
                    "name": "min",
                    "type": "uint256"
                  },
                  {
                    "internalType": "uint256",
                    "name": "max",
                    "type": "uint256"
                  }
                ],
                "internalType": "struct Price.Props",
                "name": "collateralTokenPrice",
                "type": "tuple"
              },
              {
                "internalType": "uint256",
                "name": "positionFeeFactor",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "protocolFeeAmount",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "positionFeeReceiverFactor",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "feeReceiverAmount",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "feeAmountForPool",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "positionFeeAmountForPool",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "positionFeeAmount",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "totalCostAmountExcludingFunding",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "totalCostAmount",
                "type": "uint256"
              }
            ],
            "internalType": "struct PositionPricingUtils.PositionFees",
            "name": "fees",
            "type": "tuple"
          },
          {
            "components": [
              {
                "internalType": "int256",
                "name": "priceImpactUsd",
                "type": "int256"
              },
              {
                "internalType": "uint256",
                "name": "priceImpactDiffUsd",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "executionPrice",
                "type": "uint256"
              }
            ],
            "internalType": "struct ReaderPricingUtils.ExecutionPriceResult",
            "name": "executionPriceResult",
            "type": "tuple"
          },
          {
            "internalType": "int256",
            "name": "basePnlUsd",
            "type": "int256"
          },
          {
            "internalType": "int256",
            "name": "uncappedBasePnlUsd",
            "type": "int256"
          },
          {
            "internalType": "int256",
            "name": "pnlAfterPriceImpactUsd",
            "type": "int256"
          }
        ],
        "internalType": "struct ReaderUtils.PositionInfo",
        "name": "",
        "type": "tuple"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  }
]